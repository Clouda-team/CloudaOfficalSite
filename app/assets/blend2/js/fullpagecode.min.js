$(function() {
	var animateTime = 1000,
		$group = $(".whole_tab"),
		$sections = $group.find(">.tabs"),
		$sectionCount = $sections.length,
		mFlag = false;
	$group.data("index_flag", 0);
	var $pagination = $('.appst'),
		$paginations = $pagination.find(">li");
	$pagination.children("li:eq(0)").addClass("slide_active");
	$paginations.click(function() {
		if (mFlag) {
			return
		}
		var $this = $(this),
			index = $this.index(),
			translateY = index * 100;
		$pagination.children("li").removeClass("slide_active");
		$this.addClass("slide_active");
		mFlag = true;
		$group.data("index_flag", index).css({
			"-webkit-transform": "translateY(-" + translateY + "%)",
			"transform": "translateY(-" + translateY + "%)"
		});
		setTimeout(function() {
			mFlag = false
		}, animateTime)
	});

	function wheelevent(delta) {
			return;
		if (mFlag = false) {
			return;
		}
		delta = delta > 0 ? 1 : -1;
		var index = $group.data("index_flag");
		index -= delta;
		index = index < 0 ? 0 : index = index > ($sectionCount - 1) ? ($sectionCount - 1) : index;
		$paginations.eq(index).click()
	}
	$('.history').bind("mousewheel", function(event, delta) {
		wheelevent(delta)
	})
});