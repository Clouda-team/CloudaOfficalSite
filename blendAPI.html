<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<meta name="description" content="简单可依赖的Javascript开发框架" />
	<title>Clouda+</title>
	<link rel="stylesheet" href="assets/entry.css">
	<link rel="stylesheet" href="assets/api.css">
    <link rel="stylesheet" href="assets/base.css">
    <link rel="stylesheet" href="assets/stylus.css">
    <link rel="stylesheet" href="assets/font-awesome.min.css">
</head>
<body>
	<header class="hd">
        <div class="vp">
            <div id="logo"><a href="index.html"><img src="assets/clouda+logo.png" alt=""><span>Clouda+</span></a></div>
            <ul id="nav">
                <li><a href="index.html">home</a></li>
                <li><a class="active"  href="#">docs</a></li>
                <li><a href="https://github.com/Clouda-team">github</a></li>
            </ul>
        </div>
    </header>
	<section class="bd">
        <div class="vp">
            <aside id="menu">
                <ul>
                    <li>
                        <h3><a href="cloudaAPI.html">Clouda</a></h3>
                        <div><a href="#">起步<i class="fa fa-dot-circle-o"></i></a></div>
                        <div><a href="#">API<i class="fa fa-files-o"></i></a></div>
                        <div><a href="#">FAQ<i class="fa fa-question-circle"></i></a></div>
                    </li>
                    <li class="active">
                        <h3><a href="#">BlendUI</a></h3>
                        <div><a href="" class="active">起步<i class="fa fa-dot-circle-o"></i></a></div>
                        <div><a href="404.html">API<i class="fa fa-files-o"></i></a></div>
                        <div><a href="404.html">FAQ<i class="fa fa-question-circle"></i></a></div>
                    </li>
                    <li>
                        <h3><a href="404.html">Showcase</a></h3>
                        <div><a href="">Item-1</a></div>
                        <div><a href="">Item-2</a></div>
                        <div><a href="">Item-3</a></div>
                    </li>
                </ul>
            </aside>
            <article class="entry" id="docs">

<h2>相关接口</h2>

<h3>clouda api</h3>

<p>移步: <a href="http://cloudajs.org/lightapp/docs/api">点击这里</a></p>

<h3>apk打包平台</h3>

<p>移步：<a href="http://10.42.82.59/wenku/injekt.php">点击这里</a></p>

<p>BlendUI和clouda api是兄弟关系，如果webapp中不使用本地能力可直接内嵌blendui js进行开发,如需要可把blendui作为clouda api的一个模块,初始化时进行加载：</p>

<pre><code>clouda.lightInit({
    ak:apikey,
    module:["blendui"]
});
</code></pre>

<p>推荐采用clouda方式加载；</p>

<h2>线下调试环境</h2>

<ol>
<li><p>下载测试apk包 blendui.apk</p></li>
<li><p>下载android开发调试工具adb(Android Debug Bridge)；</p></li>
<li><p>可直接安装adb，请自行google</p></li>
<li><p>安装android开发工具(推荐),<a href="http://developer.android.com/sdk/index.html">点击这里</a>，直接使用SDK包里platform-tools adb工具(请配置添加到环境变量中)，还可使用android eclipse开发环境，直接使用logcat观察log；</p></li>
<li><p>adb命令的使用请自行google或者baidu，请确保手机连接后打开debug模式;</p></li>
</ol>


<h2>Hello World</h2>

<ol>
<li><p>在服务器目录下创建www文件夹
 <code>./www</code></p></li>
<li><p>新建index.html入口文件，</p>

<p> <code>./www/index.html</code></p></li>
<li><p>引入blendui脚本</p>

<pre><code> &lt;!-- 引入BlendUI 脚本文件,确保已经下载到本地 --&gt;
 &lt;script src="BlendUI-0.0.1.min.js"&gt;\&lt;/script&gt;

 &lt;!-- clouda方式开发 --&gt;
 &lt;script name="baidu-tc-cerfication" type="text/javascript" charset="utf-8" src="http://apps.bdimg.com/cloudaapi/lightapp.js"&gt;&lt;/script&gt;
</code></pre></li>
<li><p>使用</p>

<ul>
<li><p>直接引入BlendUI脚本</p>

<pre>
    <code>
Blend.ready(function(main) {
  //去除启动画面
  var core = main.api.core
  core.removeSplashScreen();

  //外链a用BlendUI layer打开
  var Layer = main.Layer;
  var links = $("a[target='_blank']");
  var page = null;
  links.click(function(e){
      e.preventDefault();
      var $t = $(this);
      var link = $t.attr("href");
      if(page) page.destroy();
      page = new Layer({
          "id":"layerId",
          "url":link,
          "active":true
      });
  });

  //返回键退出应用
  var layerApi = main.api.layer;
  layerApi.on("backPressedBeforeExit",function(){
      if(window.confirm("确定要退出吗?")){
          core.exitApp();
      }
  });

}); 
</code></pre>
</li>
<li><p>clouda方式开发</p>

<pre><code>
clouda.lightInit({
  ak:xxxx, //apikey
  module:["xxxx","blendui"]//根据勾选的模块生成，
});

document.addEventListener("blendready",function(){
  var Layer = Blend.Layer;
  var links = $("a[target='_blank']");
  var page = null;
  links.click(function(e){
      e.preventDefault();
      var $t = $(this);
      var link = $t.attr("href");
      if(page) page.destroy();
      page = new Layer({
          "id":"layerId",
          "url":link,
          "active":true
      });
  });

  //返回键退出应用
  var core = Blend.api.core;
  var layerApi = Blend.api.layer;
  layerApi.on("backPressedBeforeExit",function(){
      if(window.confirm("确定要退出吗?")){
          core.exitApp();
      }
  });
});
</code></pre></li>
</ul>
</li>
<li><p>手机测试（确保手机已经连上adb调试）</p>

<pre><code> adb shell "echo "http://192.168.0.100/index.html" &gt; /sdcard/blend/url.conf"
</code></pre>

<p> <em>Tip：</em> 192.168.0.100为本服务器访问ip,确保手机在一个网段，可正常访问</p></li>
<li><p>此时重新启动安装的blendui app, 可以看到已经加载所要访问的页面,点击链接查看功能是否生效;</p></li>
<li><p>调试,</p>

<p> 可以打开所下载的eclipse 切换到logcat面板观察日志, js中可正常使用console.log，console.error进行日志调试;</p></li>
</ol>
            </article>
        </div>
	</section>
	<section class="ft">
		<div class="vp">
			&copy; 2014 Baidu
		</div>
	</section>
	<script src="assets/move.min.js"></script>
    <script src="assets/sh_main.js"></script>
    <script src="assets/sh_javascript.min.js"></script>
    <script>highlight(undefined, undefined, 'pre');</script>
</body>
</html>